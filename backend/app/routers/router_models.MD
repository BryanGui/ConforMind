# ü§ñ Router Models - Explication D√©taill√©e

## üéØ **√Ä quoi sert ce router ?**

Le router `models.py` g√®re **tout le cycle de vie des mod√®les IA** que les clients veulent analyser pour la conformit√© EU AI Act.

## üë• **Qui utilise ce router ?**

### **Utilisateurs finaux (clients) :**
- **Banques** : Upload mod√®les de cr√©dit scoring
- **Assurances** : Upload mod√®les de tarification 
- **RH** : Upload mod√®les de recrutement automatique
- **H√¥pitaux** : Upload mod√®les de diagnostic IA

### **Exemple concret d'usage :**
```
üè¶ BNP Paribas veut v√©rifier son mod√®le de cr√©dit
1. Data Scientist upload "credit_model.pkl" 
2. ConforMind analyse le mod√®le
3. Retourne : "HIGH_RISK - EU AI Act Article 6 applicable"
4. G√©n√®re rapport de conformit√©
```

## üîÑ **Workflow utilisateur complet**

### **√âtape 1 : Upload du mod√®le**
```bash
# Le client upload son mod√®le via notre interface
POST /api/models/upload
- Fichier: credit_scoring_v2.pkl
- Use case: "credit_scoring" 
- Description: "Mod√®le XGBoost pour pr√™ts particuliers"
```

### **√âtape 2 : Analyse automatique**
```python
# Notre syst√®me analyse automatiquement :
- Type de mod√®le (XGBoost, Random Forest, etc.)
- Features utilis√©es (√¢ge, sexe, salaire...)
- Classification EU AI Act (HIGH_RISK car cr√©dit)
- D√©tection biais potentiels
```

### **√âtape 3 : Consultation r√©sultats**
```bash
# Le client peut consulter :
GET /api/models/1  # D√©tails du mod√®le
GET /api/compliance/1/analyze  # Analyse conformit√©  
GET /api/reports/1/pdf  # Rapport PDF
```

## üìä **Types de mod√®les support√©s**

### **Formats de fichiers :**
- **.pkl** : Scikit-learn, XGBoost (pickle Python)
- **.joblib** : Scikit-learn optimis√©
- **.h5** : TensorFlow/Keras 
- **.onnx** : Format interop√©rable

### **Use cases d√©tect√©s :**
- **credit_scoring** ‚Üí HIGH_RISK (EU AI Act Article 6)
- **recruitment** ‚Üí HIGH_RISK (discrimination interdite)
- **medical_diagnosis** ‚Üí HIGH_RISK (s√©curit√© patients)
- **chatbot** ‚Üí LIMITED_RISK (transparence requise)
- **fraud_detection** ‚Üí MINIMAL_RISK (g√©n√©ralement OK)

## üèóÔ∏è **Architecture technique**

### **Ce router fait :**
1. **R√©ception** : Upload fichier client
2. **Validation** : Format support√© ?
3. **Stockage** : Sauvegarde s√©curis√©e
4. **Analyse** : Extraction m√©tadonn√©es
5. **Classification** : EU AI Act risk level
6. **Retour** : Confirmation + ID mod√®le

### **Ce router NE fait PAS :**
- ‚ùå Analyse de conformit√© d√©taill√©e (‚Üí `compliance.py`)
- ‚ùå G√©n√©ration rapports PDF (‚Üí `reports.py`)
- ‚ùå D√©tection de biais (‚Üí `services/bias_detector.py`)

## üíº **Exemples concrets d'entreprises**

### **Banque Cr√©dit Agricole :**
```python
# Upload mod√®le scoring cr√©dit immobilier
{
  "name": "mortgage_scoring_2024.pkl",
  "use_case": "mortgage_approval", 
  "description": "Mod√®le XGBoost pr√™ts immobiliers",
  "features": ["income", "age", "loan_amount", "employment_type"]
}
# ‚Üí Classification: HIGH_RISK
# ‚Üí EU AI Act: Article 6 applicable  
# ‚Üí Human oversight requis
```

### **AXA Assurance :**
```python
# Upload mod√®le tarification auto
{
  "name": "car_insurance_pricing.pkl",
  "use_case": "insurance_pricing",
  "description": "Random Forest tarifs assurance auto", 
  "features": ["age", "car_model", "location", "driving_history"]
}
# ‚Üí Classification: LIMITED_RISK
# ‚Üí Transparence algorithme requise
```

### **Soci√©t√© G√©n√©rale RH :**
```python
# Upload mod√®le tri CV automatique  
{
  "name": "cv_screening_model.h5",
  "use_case": "recruitment_screening",
  "description": "Deep Learning tri CV candidats",
  "features": ["education", "experience", "skills", "university"]
}
# ‚Üí Classification: HIGH_RISK
# ‚Üí ATTENTION: Biais discrimination potentiel
# ‚Üí Audit approfondi requis
```

## üîê **S√©curit√© & Confidentialit√©**

### **Donn√©es sensibles :**
- **Mod√®les clients** = propri√©t√© intellectuelle
- **Features** = peuvent r√©v√©ler strat√©gie business
- **Datasets** = donn√©es personnelles potentielles

### **Mesures s√©curit√© :**
- **Stockage isol√©** par client
- **Pas d'acc√®s aux donn√©es** (juste m√©tadonn√©es)
- **Suppression automatique** apr√®s analyse
- **Logs audit** : qui a upload√© quoi quand

## üöÄ **√âvolution pr√©vue**

### **Phase 1 (MVP) :**
- Upload mod√®les simples
- Classification basique EU AI Act
- Stockage local

### **Phase 2 (SaaS) :**
- Multi-tenant (isolation clients)
- Chiffrement end-to-end
- API rate limiting
- Authentification OAuth

### **Phase 3 (Enterprise) :**
- On-premise deployment
- Integration LDAP/SSO
- Custom compliance rules
- Advanced monitoring

## ‚ùì **Questions fr√©quentes**

**Q: Les clients peuvent voir les mod√®les des autres ?**
A: Non, isolation totale par client (multi-tenant)

**Q: ConforMind acc√®de aux donn√©es d'entra√Ænement ?**  
A: Non, juste au mod√®le (pas aux datasets)

**Q: Que se passe-t-il apr√®s upload ?**
A: Analyse auto ‚Üí Classification risque ‚Üí Rapport conformit√©

**Q: Formats non support√©s ?**
A: Conversion ou export vers .pkl/.onnx recommand√©